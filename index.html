<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>صفحه لینک و ابزارها</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .glass { backdrop-filter: blur(8px); background: rgba(255,255,255,0.06); }
    body { font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; }
    .note { font-size: 0.9rem; color: #cbd5e1; }

    /* همه دکمه‌ها یک رنگ و اندازه ثابت */
    .btn {
      display: inline-block;
      width: 100%;
      max-width: 220px;
      padding: 10px 0;
      margin: 5px auto;
      border-radius: 10px;
      background-color: #4f46e5;
      color: white;
      font-weight: 600;
      text-decoration: none;
      box-shadow: 0 4px 6px rgb(79 70 229 / 0.4);
      text-align: center;
      transition: background-color 0.3s ease;
    }
    .btn:hover { background-color: #4338ca; }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-indigo-900 to-slate-800 text-slate-100 p-4 sm:p-6">
  <main class="max-w-4xl mx-auto">
    <header class="flex flex-col sm:flex-row items-center justify-between mb-6 gap-2 text-center sm:text-right">
      <h1 class="text-2xl sm:text-3xl font-semibold">link web and tools</h1>
    </header>

    <section class="p-4 sm:p-6 rounded-2xl glass border border-slate-700 text-center">
      <p class="mb-4 text-slate-300 text-sm sm:text-base leading-relaxed">
        در این صفحه لینک‌ها و ابزار نرم‌افزاری قرار می‌گیرد.
      </p>

      <!-- دکمه‌های اصلی (گرید برای موبایل و دسکتاپ) -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 justify-items-center my-4">
        <button id="androidBtn" class="btn">اتصال (Android — Chrome)</button>
        <a id="openSettings" href="#" class="btn">بازکردن تنظیمات وای‌فای</a>
        <button id="copySub" class="btn">کپی کردن لینک ساب</button>
        <a class="btn" href="https://github.com/Happ-proxy/happ-android/releases/latest/download/Happ.apk" target="_blank">دانلود happ</a>
        <a class="btn" href="https://www.dl.farsroid.com/ap/Samsung%20Smart-Switch-3.7.65.4(www.farsroid.com).apk" target="_blank">Smart Switch</a>
        <a class="btn" href="https://apps.apple.com/us/app/v2box-v2ray-client/id6446814690" target="_blank">v2box iOS</a>
        <a class="btn" href="https://t.me/aps_vip_ch" target="_blank">کانال تلگرام</a>
        <a class="btn" href="https://t.me/aps_vip_bot" target="_blank">ربات فیلترشکن</a>
        <button onclick="alert('6037 9917 7186 1733 ')" class="btn">شماره کارت</button>
        <button id="generateQR" class="btn">نمایش QR اتصال</button>
      </div>

      <div id="qrContainer" class="mt-4 flex justify-center"></div>

      <p class="mt-3 note leading-relaxed">
        توجه: مرورگرها به دلایل امنیتی معمولاً اجازهٔ اتصال خودکار کامل را نمی‌دهند. 
        اگر کار نکرد، با دکمهٔ «بازکردن تنظیمات وای‌فای» یا QR، دستی شبکه را انتخاب کنید.
      </p>
    </section>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script>
    const ssid = 'private network';
    const pass = '3750715009';
    const wifiPayload = `WIFI:T:WPA;S:${ssid};P:${pass};;`;

    document.getElementById('generateQR').addEventListener('click', () => {
      const qrContainer = document.getElementById('qrContainer');
      qrContainer.innerHTML = '';
      new QRCode(qrContainer, {
        text: wifiPayload,
        width: 200,
        height: 200,
        colorDark : '#ffffff',
        colorLight : 'transparent',
        correctLevel : QRCode.CorrectLevel.H
      });
    });

    function isAndroid() { return /Android/i.test(navigator.userAgent); }
    function isChrome() { return /Chrome/i.test(navigator.userAgent) && !/Edge|OPR|Edg/i.test(navigator.userAgent); }

    const androidBtn = document.getElementById('androidBtn');
    const openSettings = document.getElementById('openSettings');
    const intentLink = 'intent:#Intent;action=android.settings.WIFI_SETTINGS;end';
    const wifiSchemeLink = `WIFI:T:WPA;S:${encodeURIComponent(ssid)};P:${encodeURIComponent(pass)};;`;

    androidBtn.addEventListener('click', () => {
      if (isAndroid() && isChrome()) {
        window.location.href = wifiSchemeLink;
        setTimeout(() => { window.location.href = intentLink; }, 800);
      } else if (isAndroid()) {
        window.location.href = intentLink;
      } else {
        alert('این گزینه برای اندروید طراحی شده — از QR استفاده کنید یا تنظیمات را باز کنید.');
      }
    });

    openSettings.addEventListener('click', (e) => {
      e.preventDefault();
      window.location.href = intentLink;
    });

    const subLink = "https://example.com/subscription/link";
    document.getElementById("copySub").addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(subLink);
        alert("✅ لینک ساب با موفقیت کپی شد!");
      } catch (err) {
        alert("❌ مرورگر اجازه کپی مستقیم نداد، دستی کپی کنید:\n" + subLink);
      }
    });
  </script>
</body>
</html>
